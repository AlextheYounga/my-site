<h1 align="center">Playground</h1>
<p align="center">A space for random, fun, interactive projects</p>
<!-- stock lookup -->
<div>
  <h3 align="center">Search for Stocks</h3>
  <div>
    <%= form_tag search_stocks_path, remote: true, method: :get do %>
    <div id="stock-lookup" class="form-group row no-padding text-center col-md-10">
      <div class="col-md-8">
        <%= text_field_tag :stock, params[:stock], placeholder: "Stock ticker symbol", autofocus: false,
                                        class: "form-control search-box input lg" %>
      </div>
      <div class="col-md-2">
        <%= button_tag(type: :submit, class: "btn btn-sm btn-success") do %>
        <i class="fa fa-search"></i> Search Stock Prices
        <% end %>
      </div>
      <% end %>
    </div>
    <div id="results">
      <%= render 'layouts/result' %>
    </div>
  </div>
  <!-- end stock-lookup -->

  <!-- watchlist -->
  <h3 align="center" id="need-font" style="margin-top: 2cm; font-size: 28px;">My Stock WatchList</h3>
  <%= render 'user_stocks/watchlist'%>
  <!-- end watchlist -->
</div>

<!--map-->
<div>
  <iframe id="map" src="https://www.google.com/maps/d/embed?mid=1xjnP9IvzZ5YARi0kVmI3FsPeLi7Yb0y9" width="700"
    height="480"></iframe>
</div>
<!-- end map -->

<!--quote generator-->
<div id="quote-generator">
  <h2>My Favorite Quotes</h2>
  <div id="quoteContainer">
    <p></p>
    <p id="quoteGenius"></p>
  </div>
  <!--end quoteContainer-->

  <div id="buttonContainer">
    <a href="#" id="quoteButton">Quote Me</a>
  </div>
  <!--end buttonContainer-->
</div>
<!--end quote generator-->
</div>

<script>
  $(document).ready(function () {
    var quoteSource = [
      <% @quotes.each do |quote |%>
      {
        quote: "<%= @quote %>",
        name: "<%= @name %>"
      },
      <% end %>
    ];


    $('#quoteButton').click(function (evt) {
      //define the containers of the info we target
      var quote = $('#quoteContainer p').text();
      var quoteGenius = $('#quoteGenius').text();
      //prevent browser's default action
      evt.preventDefault();
      //getting a new random number to attach to a quote and setting a limit
      var sourceLength = quoteSource.length;
      var randomNumber = Math.floor(Math.random() * sourceLength);
      //set a new quote
      for (i = 0; i <= sourceLength; i += 1) {
        var newQuoteText = quoteSource[randomNumber].quote;
        var newQuoteGenius = quoteSource[randomNumber].name;
        //console.log(newQuoteText,newQuoteGenius);
        var timeAnimation = 500;
        var quoteContainer = $('#quoteContainer');
        //fade out animation with callback
        quoteContainer.fadeOut(timeAnimation, function () {
          quoteContainer.html('');
          quoteContainer.append('<p>' + newQuoteText + '</p>' + '<p id="quoteGenius">' + '-' + newQuoteGenius + '</p>');

          //fadein animation.
          quoteContainer.fadeIn(timeAnimation);
        });

        break;
      };//end for loop
    });//end quoteButton function
  });//end document ready
</script>